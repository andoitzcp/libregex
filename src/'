#include "libregex.h"

void ft_exit(t_re *re, char *s)
{
    free(re);
    perror(s);
}

char *get_charset(char *s)
{
    char *p;

    while (1)
    {
        p = ft_strchr(s, ']');
        if (p == NULL)
            return (NULL);
        if (*(p - 1) == '\\')
            continue;
        else
            break;
    }
    if (s[1] == '^')
        s++;
    return (ft_strndup(s + 1, p - s));
}

int get_int_in_brackets(char *s)
{
    size_t i;

    if (!s)
        return (0);
    if (*s != '{')
        return (-1);
    i = 0;
    while (s[i] != '}')
    {
        if (s[i] == '\0')
            return (-1);
        if(!ft_isdigit(s[i]))
            return (-1);
    }
    if (i < 2)
        return (-1);
    return (ft_atoi(s + 1));

}
